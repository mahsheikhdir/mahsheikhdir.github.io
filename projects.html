<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mah-dir Here</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />

</head>

<body>
    <div class="top-bar">
    </div>
    <div id="projects" class="main">
        <h1>Projects</h1>
        <p >Below are a few of my projects with links if they are available.</p>

        <!-- <p id="error"> </p>


        <h1 id="linker">Linker</h1>
        <p>Express Blog where users can follow others and make private/public posts. Built with Express and EJS. You can
            see this project here: <a href="https://linkup-linker.herokuapp.com/">Link</a>.</p>


        <h3>Form Server</h3>
        <p>A full-stack application using React and Express that lets users create and store JSON data for their
            website, or back-end projects. Users are given an API key for each of their &quot;Projects&quot; and can
            send POST requests to add new data. You can see this project here: <a
                href="https://jsonstor3.herokuapp.com/">Link</a>.</p>

        <h1>Goodreads Quote Scraper</h1>
        <p>A package that can scrape quotes from goodreads.com.</p> -->

        <h3 id="content"><a href="index.html">Go Back</a></h3>
    </div>
    <script>
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {

                var repos = JSON.parse(this.response);

                var projects = ["form-server", 'react-blog-test', 'linker', 'goodreads-quotes', 'snake'];

                var nodes = [];

                //console.log(repos.length);
                var content = document.getElementById("content");
                for (var i = 0; i < repos.length; i++) {
                    if (projects.includes(repos[i]["name"])) {
                        var project = document.createElement("div");
                        project.className = "card";
                        var title = document.createElement("h3");
                        var description = document.createElement("p");
                        var link = document.createElement('a');
                        var homepage = document.createElement('a');

                        title.innerHTML = repos[i]["name"];

                        description.innerHTML = repos[i]["description"];

                        link.href = repos[i]["svn_url"];
                        link.innerHTML = "Github";

                        homepage.href = repos[i]["homepage"];
                        homepage.className = "right";
                        homepage.innerHTML = "Website";

                        project.appendChild(title);
                        project.appendChild(description);
                        project.appendChild(link);

                        //console.log(repos[i]["name"], repos[i]["homepage"]);
                        if (repos[i]["homepage"] != '') {
                            project.appendChild(homepage);
                        }


                        nodes.push(project);



                    }
                }

                for (var i = 0; i < nodes.length; i++) {
                    document.getElementById("projects").insertBefore(nodes[i], content);
                }
            }
        };
        xhttp.open("GET", "https://api.github.com/users/mahsheikhdir/repos", true);
        xhttp.send();
    </script>
</body>

</html>